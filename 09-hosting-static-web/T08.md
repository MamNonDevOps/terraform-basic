### Upload file lên S3
Sử dụng resource `aws_s3_object`
```
resource "aws_s3_object" "object" {
  for_each = fileset(path.module, "static-web-main/**/*")
  bucket = aws_s3_bucket.static_web.id
  key = replace(each.value, "static-web-main", "")
  source = each.value
  etag = filemd5("${each.value}")
  content_type = lookup(local.mine_types, split(".", each.value)[length(split(".", each.value))])
}
```

Khai báo các hằng số trong terraform, sử dụng locals block
```
locals {
  one = 1
  two = 2
  name = "max"
  flag = true
}
```

Khi sử dụng, ta dùng cú pháp `local.<KEY>`

Function `filemd5(file_name)` để băm dữ liệu của file. Tương tự `md5(file(file_name))` nhưng `file()` chỉ chấp nhận UTF-8 file nên không thể băm binary file
```
etag = filemd5("${each.value}")
```
Function `fileset(path, pattern)` tạo mảng các tên file trong đường dẫn (path) và thỏa mãn điều kiện mẫu (pattern). Tên file sẽ không bao gồm đường dẫn. Cách sử dụng thường thấy
```
resource "example_thing" "example" {
  for_each = fileset(path.module, "files/*")

  # other configuration using each.value
}
```
