### Định nghĩa variable bên trong terraform
```
variable "instance_type" {
  type = string
  description = "Instance type of the EC2"
}
```
Khối này có thể đặt trong main.tf hoặc để ra 1 file riêng

Thuộc tính `type` là bắt buộc, để chỉ định kiểu của biến. Các type hợp lệ:
- Basic type: string, number, bool
- Complex type: list(), set(), map(), object(), tuple()

*Trong terraform, type number và type bool sẽ được convert thành type string khi cần thiết. Nghĩa là 1 sẽ thành "1", true sẽ thành "true"*

Sau khi định nghĩa biến, giờ phải gán giá trị cho biến. Tạo file tên là terraform.tfvars.
```
instance_type = "t2.micro"
```
Khi ta chạy `terraform apply` thì file `terraform.tfvars` sẽ được terraform sử dụng mặc định để load giá trị cho biến. Nếu không muốn dùng tên mặc định này, ta thêm option `-var-file`
```
terraform apply -var-file="production.tfvars"
```
Nếu khai báo biến đầu vào cho `root module`, có 4 cách để gán giá trị cho nó:
- Trong file `main.tf`
- Sử dụng tùy chọn `-var` trong lệnh commmand `terraform apply -var="image_id=ami-abc123"`
- Định nghĩa file (.tfvars), đồng thời sử dụng tùy chọn `-var-file` như bên trên
- Khai báo như biến môi trường

*Các cách trên KHÔNG áp dụng được với `child module`*

### Validate variable
Trong block định nghĩa biến, thêm thiết lập validation
```
variable "instance_type" {
  ...
  validation {
    condition = contains(["t2.micro", "t3.small"], var.instance_type)
    error_message = "Value not allow"
  }
}
```